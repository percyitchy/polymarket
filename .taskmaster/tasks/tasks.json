{
  "tags": {
    "master": {
      "tasks": [
        {
          "id": 1,
          "title": "Настройка базы данных и схем таблиц",
          "description": "Создать SQLite базу данных с необходимыми таблицами: wallets, last_trades, alerts_sent, rolling_buys, wallet_analysis_jobs, wallet_analysis_cache",
          "status": "done",
          "priority": "high",
          "dependencies": [],
          "details": "Создать модуль db.py с функциями для создания таблиц и базовых операций CRUD. Использовать WAL mode для лучшей конкурентности.",
          "testStrategy": "Проверить создание всех таблиц, выполнить базовые операции вставки и чтения данных."
        },
        {
          "id": 2,
          "title": "Создание базовых модулей (db.py, notify.py)",
          "description": "Реализовать базовые функции для работы с базой данных и отправки уведомлений в Telegram",
          "status": "done",
          "priority": "high",
          "dependencies": [1],
          "details": "db.py: функции для работы с кошельками, сделками, алертами. notify.py: интеграция с Telegram Bot API, форматирование сообщений.",
          "testStrategy": "Протестировать сохранение кошелька в БД и отправку тестового сообщения в Telegram."
        },
        {
          "id": 3,
          "title": "Создание API клиентов для Polymarket",
          "description": "Реализовать клиенты для работы с Polymarket Data API и CLOB API",
          "status": "done",
          "priority": "high",
          "dependencies": [],
          "details": "Создать функции для запросов к /traded, /closed-positions, /trades endpoints. Реализовать получение цен и статуса рынков через CLOB API.",
          "testStrategy": "Протестировать запросы к API для тестового кошелька, проверить обработку ошибок."
        },
        {
          "id": 4,
          "title": "Модуль сбора кошельков из лидербордов",
          "description": "Реализовать парсинг лидербордов Polymarket для получения адресов кошельков",
          "status": "done",
          "priority": "medium",
          "dependencies": [2, 3],
          "details": "Использовать Playwright для парсинга React SPA. Обработать пагинацию. Извлечь адреса из профилей трейдеров.",
          "testStrategy": "Протестировать парсинг одной страницы лидерборда, проверить извлечение адресов."
        },
        {
          "id": 5,
          "title": "Модуль анализа кошельков (базовая версия)",
          "description": "Реализовать анализ торговой статистики кошельков через Polymarket API",
          "status": "done",
          "priority": "medium",
          "dependencies": [3],
          "details": "Получить данные о количестве сделок, win rate, PnL, daily frequency для каждого кошелька.",
          "testStrategy": "Проанализировать тестовый кошелек и проверить корректность расчетов."
        },
        {
          "id": 6,
          "title": "Система фильтрации кошельков",
          "description": "Реализовать фильтрацию кошельков по критериям: минимум 6 сделок, win rate 75-100%, максимум 1000 сделок, daily frequency ≤20",
          "status": "done",
          "priority": "medium",
          "dependencies": [5],
          "details": "Применить все критерии фильтрации, сохранить только подходящие кошельки в базу данных.",
          "testStrategy": "Протестировать фильтрацию на наборе тестовых кошельков с разными характеристиками."
        },
        {
          "id": 7,
          "title": "Модуль мониторинга сделок",
          "description": "Реализовать циклическую проверку всех отслеживаемых кошельков для получения новых сделок",
          "status": "done",
          "priority": "high",
          "dependencies": [2, 3, 6],
          "details": "Проверять кошельки каждые 7 секунд. Получать новые сделки через /trades endpoint. Отслеживать последнюю обработанную сделку.",
          "testStrategy": "Протестировать получение новых сделок для тестового кошелька, проверить обновление last_trades."
        },
        {
          "id": 8,
          "title": "Система окон консенсуса (rolling_buys)",
          "description": "Реализовать систему временных окон для группировки сделок по рынкам и исходам",
          "status": "done",
          "priority": "high",
          "dependencies": [7],
          "details": "Создать структуру данных для хранения сделок в 15-минутных окнах. Группировать по condition_id, outcome_index, side.",
          "testStrategy": "Протестировать добавление сделок в окна, проверку истечения времени окна."
        },
        {
          "id": 9,
          "title": "Базовое обнаружение консенсуса",
          "description": "Реализовать логику обнаружения когда 3+ кошелька покупают одинаковый исход в течение 15 минут",
          "status": "done",
          "priority": "high",
          "dependencies": [8],
          "details": "Подсчитать уникальные кошельки в окне. Если >= 3, создать сигнал для отправки.",
          "testStrategy": "Создать тестовый сценарий с 3+ кошельками и проверить обнаружение консенсуса."
        },
        {
          "id": 10,
          "title": "Модуль форматирования уведомлений",
          "description": "Реализовать форматирование сообщений для Telegram с деталями сигнала",
          "status": "done",
          "priority": "medium",
          "dependencies": [2],
          "details": "Создать шаблон сообщения с информацией о рынке, кошельках, ценах. Поддержка HTML форматирования.",
          "testStrategy": "Создать тестовое уведомление и проверить форматирование."
        },
        {
          "id": 11,
          "title": "Интеграция с Telegram Bot API",
          "description": "Реализовать отправку уведомлений в Telegram с поддержкой форумов",
          "status": "done",
          "priority": "high",
          "dependencies": [10],
          "details": "Отправка сообщений в указанный чат. Поддержка message_thread_id для форумов. Обработка ошибок API.",
          "testStrategy": "Отправить тестовое сообщение в Telegram и проверить получение."
        },
        {
          "id": 12,
          "title": "Базовая отправка сигналов",
          "description": "Интегрировать обнаружение консенсуса с отправкой уведомлений",
          "status": "done",
          "priority": "high",
          "dependencies": [9, 11],
          "details": "При обнаружении консенсуса форматировать и отправлять уведомление в Telegram.",
          "testStrategy": "Создать тестовый консенсус и проверить отправку уведомления."
        },
        {
          "id": 13,
          "title": "Интеграция с polymarketanalytics.com API",
          "description": "Добавить сбор кошельков из polymarketanalytics.com как дополнительный источник",
          "status": "done",
          "priority": "low",
          "dependencies": [4],
          "details": "Реализовать запросы к /api/traders-tag-performance. Обработать до 2000 адресов за раз.",
          "testStrategy": "Протестировать получение списка трейдеров и извлечение адресов."
        },
        {
          "id": 14,
          "title": "Система очередей и воркеров для анализа",
          "description": "Реализовать параллельную обработку анализа кошельков через систему очередей",
          "status": "done",
          "priority": "medium",
          "dependencies": [5, 6],
          "details": "Создать таблицу wallet_analysis_jobs. Реализовать 7 воркеров для параллельной обработки. Fast-filter для быстрого отклонения.",
          "testStrategy": "Добавить кошельки в очередь и проверить параллельную обработку воркерами."
        },
        {
          "id": 15,
          "title": "Продвинутая фильтрация сигналов",
          "description": "Реализовать многоуровневую систему фильтрации: проверка статуса рынков, фильтрация по ценам, дедупликация",
          "status": "done",
          "priority": "high",
          "dependencies": [12],
          "details": "Проверка закрытых/разрешенных рынков. Фильтрация по ценам (>=0.999, <=0.001). 30-минутное правило дедупликации. Проверка конфликтов.",
          "testStrategy": "Протестировать все фильтры на различных сценариях сигналов."
        },
        {
          "id": 16,
          "title": "Systemd сервис для непрерывной работы",
          "description": "Настроить systemd сервис для автоматического запуска и перезапуска бота",
          "status": "done",
          "priority": "low",
          "dependencies": [12],
          "details": "Создать .service файл. Настроить автозапуск. Реализовать graceful shutdown.",
          "testStrategy": "Проверить запуск через systemctl, тестировать перезапуск при сбоях."
        },
        {
          "id": 17,
          "title": "Cron задачи для периодического обновления",
          "description": "Настроить cron задачи для автоматического обновления кошельков",
          "status": "done",
          "priority": "low",
          "dependencies": [13, 14],
          "details": "Настроить проверку polymarketanalytics.com каждые 12 часов. Ежедневное обновление из лидербордов.",
          "testStrategy": "Проверить выполнение cron задач и обновление данных."
        },
        {
          "id": 18,
          "title": "Логирование и мониторинг",
          "description": "Реализовать систему логирования для отладки и мониторинга работы бота",
          "status": "done",
          "priority": "medium",
          "dependencies": [],
          "details": "Логирование всех операций, ошибок, блокировок сигналов. Сохранение в файл и консоль.",
          "testStrategy": "Проверить запись логов в файл и корректность уровней логирования."
        },
        {
          "id": 19,
          "title": "Ежедневная очистка и обслуживание данных",
          "description": "Реализовать автоматическую очистку неактивных кошельков и устаревших данных",
          "status": "done",
          "priority": "low",
          "dependencies": [6],
          "details": "Удаление кошельков, не соответствующих критериям. Очистка старых записей из alerts_sent.",
          "testStrategy": "Протестировать очистку на тестовых данных."
        },
        {
          "id": 20,
          "title": "Оптимизация производительности",
          "description": "Оптимизировать производительность системы: запросы к БД, использование памяти, скорость обработки",
          "status": "pending",
          "priority": "low",
          "dependencies": [15],
          "details": "Профилирование производительности. Оптимизация SQL запросов. Улучшение кэширования.",
          "testStrategy": "Измерить производительность до и после оптимизации."
        }
      ]
    }
  },
  "metadata": {
    "version": "1.0.0",
    "createdAt": "2025-01-18T00:00:00Z",
    "lastUpdated": "2025-01-18T00:00:00Z"
  }
}


