# Polymarket Notifier Bot Configuration
# Copy this file to .env and fill in your values

# Telegram Bot Configuration
# Get these from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here

# Monitoring Configuration
POLL_INTERVAL_SEC=7                    # Seconds between wallet checks
ALERT_WINDOW_MIN=20                    # Minutes for consensus window
MIN_CONSENSUS=3                        # Minimum wallets for alert
MIN_TOTAL_POSITION_USD=1000            # Minimum total position size in USDC to send alert
MAX_WALLETS=9000                       # Maximum wallets to track
MAX_PREDICTIONS=1900                   # Maximum trades per wallet

# Startup Configuration
SKIP_STARTUP_COLLECTION=false          # Skip wallet collection at startup (set to true to start monitoring immediately)

# Database Configuration
DB_PATH=polymarket_notifier.db         # SQLite database file path

# Wallet Analysis Queue Configuration
API_MAX_WORKERS=3                      # Maximum parallel analysis workers
API_TIMEOUT_SEC=20                     # API request timeout in seconds
API_RETRY_MAX=6                        # Maximum retry attempts per wallet
API_RETRY_BASE=1.2                     # Exponential backoff base multiplier
ANALYSIS_TTL_MIN=180                   # Analysis job TTL in minutes
INACTIVITY_DAYS=150                    # Days of inactivity threshold for wallet filtering
WIN_RATE_THRESHOLD=0.65                # Minimum win rate to accept wallet (65%)
MAX_DAILY_FREQUENCY=35.0               # Maximum daily trading frequency
ANALYTICS_LIMIT=5000                   # Maximum addresses to fetch from Polymarket Analytics API

# Wallet Analysis Window
MAX_CLOSED_POSITIONS=250               # Максимум закрытых рынков для анализа (последние по времени)
ANALYSIS_LOOKBACK_DAYS=90              # 3 месяца для фильтра по давности рынков

# New Quality Thresholds for Wallets
MINIMUM_ROI=0.0025                     # Минимум ROI = 0.25% (Total PnL / Total Volume)
MINIMUM_AVG_PNL=50.0                   # Минимум средней прибыли на рынок, $50
MINIMUM_VOLUME=25000.0                 # Минимум суммарного объёма торгов, $25k
MINIMUM_MARKETS=12                     # Минимум закрытых рынков в окне анализа
MINIMUM_AVG_STAKE=100.0                # Минимум средней ставки на рынок, $100

# Trades API Configuration (for future use)
ENABLE_TRADES_API=false                # Enable collection from trades API (set to true when ready)
TRADES_API_MARKETS_LIMIT=100           # Number of markets to process
TRADES_API_TRADES_PER_MARKET=200       # Trades to fetch per market
TRADES_API_TIMEOUT=15                  # Request timeout in seconds
TRADES_API_MAX_RETRIES=3               # Max retry attempts

# Optional: Polymarket API Authentication (for higher rate limits and private endpoints)
# Get these from https://polymarket.com/settings/api-keys
# POLYMARKET_API_KEY=your_api_key_here
# POLYMARKET_SECRET=your_secret_here
# POLYMARKET_PASSPHRASE=your_passphrase_here

# Proxy settings (disabled by default)
# Set ENABLE_PROXIES=true to enable proxy usage
# When disabled, all requests use direct connection regardless of proxy configuration
ENABLE_PROXIES=false

# Optional: Proxy Configuration (for IP rotation to avoid rate limits)
# Format: comma-separated list of proxy URLs
# Examples:
#   HTTP: http://user:pass@proxy1.com:8080,http://user:pass@proxy2.com:8080
#   SOCKS5: socks5://user:pass@proxy1.com:1080,socks5://user:pass@proxy2.com:1080
# Note: Proxies are only used if ENABLE_PROXIES=true
# POLYMARKET_PROXIES=http://pkg-private2:nenbaisd31wsawmw@quality.proxywing.com:8888,http://pkg-private2:nenbaisd31wsawmw@quality.proxywing.com:8888

# Alert Thresholds (for daily_report.py)
ALERT_FAILED_RATE_THRESHOLD=0.05  # 5% - alert if failed rate exceeds this
ALERT_QUEUE_STUCK_THRESHOLD=1000  # Alert if pending > this and 0 completed today
ALERT_QUEUE_SLOW_THRESHOLD=500    # Alert if pending > this and processing too slow
ALERT_MIN_JOBS_PER_HOUR=20.0      # Minimum jobs/hour to avoid "slow queue" alert

# HashiDive API Configuration (optional, for fallback trades and wallet discovery)
# Get API key from https://hashdive.com
# HASHDIVE_API_KEY=your_hashdive_api_key_here
# ENABLE_HASHDIVE_WHALES=false  # Enable collection from HashiDive whale trades (default: false)
# ENABLE_HASHDIVE_TRADER_EXPLORER=false  # Enable scraping from HashiDive Trader Explorer page (default: false, requires Playwright)
# HASHDIVE_TRADER_EXPLORER_MAX_PAGES=100  # Maximum pages to scrape from Trader Explorer (default: 100, set to None for all pages)
# Note: HashiDive provides 1000 credits/month. Used for:
#   - Fallback when Polymarket API fails (get_trades)
#   - Whale wallet discovery (get_latest_whale_trades) - requires ENABLE_HASHDIVE_WHALES=true
#   - Trader Explorer scraping (https://hashdive.com/Trader_explorer) - requires ENABLE_HASHDIVE_TRADER_EXPLORER=true
#   - Market price verification (get_last_price)

# Polymarket CLOB API Configuration (for authenticated price requests via /price endpoint)
# Get API credentials from Polymarket account settings (https://polymarket.com/settings/api-keys)
# PM_API_KEY=your_polymarket_api_key_here
# PM_API_SECRET=your_polymarket_api_secret_here
# PM_API_PASSPHRASE=your_polymarket_api_passphrase_here

# FinFeed API Configuration (optional, for price fallback)
# Get API key from FinFeed (if available)
# FINFEED_API_KEY=your_finfeed_api_key_here

# Optional: Advanced Configuration
# LEADERBOARD_URLS=https://polymarket.com/leaderboard/overall/monthly/profit,https://polymarket.com/leaderboard/overall/weekly/profit
# ENABLE_ALLTIME_VOLUME_LEADERBOARD=false  # Enable problematic all/volume leaderboard (default: false, known to timeout)
# DATA_API_TIMEOUT=20
# RETRY_ATTEMPTS=3
# LOG_LEVEL=INFO
