# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Å–∏–≥–Ω–∞–ª–æ–≤

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. MIN_TOTAL_POSITION_USD –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `1000.0` USD
- –°–∏–≥–Ω–∞–ª—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è, –µ—Å–ª–∏ `total_usd < 1000`
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `polymarket_notifier.py:2283`

**–†–µ—à–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
grep MIN_TOTAL_POSITION_USD /opt/polymarket-bot/.env

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ 0 (–∏–ª–∏ –Ω–∏–∑–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
echo "MIN_TOTAL_POSITION_USD=0" >> /opt/polymarket-bot/.env

# –ò–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª:
nano /opt/polymarket-bot/.env
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: MIN_TOTAL_POSITION_USD=0

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç
sudo systemctl restart polymarket-notifier
```

### 2. –°–æ–±—ã—Ç–∏—è –±–µ–∑ condition_id

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –í—Å–µ —Ç–µ–∫—É—â–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ `rolling_buys` –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç `conditionId`
- –≠—Ç–æ —Å—Ç–∞—Ä—ã–µ —Å–æ–±—ã—Ç–∏—è, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞
- –ù–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å `conditionId` –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞
sudo systemctl restart polymarket-notifier

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç conditionId
python3 check_signal_blocks.py
```

## üìã –í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –ù–∏–∂–µ –ø–æ—Ä–æ–≥–∞ –∫–æ—à–µ–ª—å–∫–æ–≤
- **–ö–æ–¥:** `polymarket_notifier.py:1490`
- **–£—Å–ª–æ–≤–∏–µ:** `len(wallets_in_window) < MIN_CONSENSUS`
- **–õ–æ–≥:** `"BLOCKED: Below threshold"`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –†—ã–Ω–æ–∫ –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω
- **–ö–æ–¥:** `polymarket_notifier.py:1520, 1459`
- **–£—Å–ª–æ–≤–∏–µ:** `not is_market_active()`
- **–õ–æ–≥:** `"BLOCKED: Market closed"`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ê–ª–µ—Ä—Ç —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
- **–ö–æ–¥:** `polymarket_notifier.py:1542`
- **–£—Å–ª–æ–≤–∏–µ:** `is_alert_sent()`
- **–õ–æ–≥:** `"BLOCKED: Alert already sent"`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ —Ü–µ–Ω
- **–ö–æ–¥:** `polymarket_notifier.py:1618`
- **–£—Å–ª–æ–≤–∏–µ:** –†–∞–∑–Ω–∏—Ü–∞ —Ü–µ–Ω –ø–µ—Ä–≤—ã—Ö 3 –∫–æ—à–µ–ª—å–∫–æ–≤ > 20-40%
- **–õ–æ–≥:** `"BLOCKED: Entry price divergence"`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: –†—ã–Ω–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω
- **–ö–æ–¥:** `polymarket_notifier.py:1693`
- **–£—Å–ª–æ–≤–∏–µ:** `price >= 0.999 or price <= 0.001`
- **–õ–æ–≥:** `"BLOCKED: Market resolved"`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 6: –†—ã–Ω–æ–∫ –∑–∞–∫—Ä—ã—Ç
- **–ö–æ–¥:** `polymarket_notifier.py:1730`
- **–£—Å–ª–æ–≤–∏–µ:** `price >= 0.98 or price <= 0.02 AND not is_market_active()`
- **–õ–æ–≥:** `"BLOCKED: Market closed"`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 7: ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
- **–ö–æ–¥:** `polymarket_notifier.py:2283`
- **–£—Å–ª–æ–≤–∏–µ:** `total_usd < MIN_TOTAL_POSITION_USD`
- **–õ–æ–≥:** `"BLOCKED: Insufficient total position size"`
- **–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `MIN_TOTAL_POSITION_USD=0`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 8: Cooldown
- **–ö–æ–¥:** `polymarket_notifier.py:2234`
- **–£—Å–ª–æ–≤–∏–µ:** –ê–ª–µ—Ä—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω < 30 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
- **–õ–æ–≥:** `"BLOCKED: Cooldown"`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 9: –ü—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–π —Å–∏–≥–Ω–∞–ª
- **–ö–æ–¥:** `polymarket_notifier.py:2251`
- **–£—Å–ª–æ–≤–∏–µ:** –ù–µ–¥–∞–≤–Ω–∏–π –∞–ª–µ—Ä—Ç –Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É
- **–õ–æ–≥:** `"BLOCKED: Opposite side recent"`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 10: –ù–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä–∞
- **–ö–æ–¥:** `polymarket_notifier.py:2205`
- **–£—Å–ª–æ–≤–∏–µ:** –î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∞–ª–µ—Ä—Ç–æ–≤ –Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–õ–æ–≥:** `"BLOCKED: no_trigger_matched"`

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤ –ª–æ–≥–∞—Ö
grep -i "BLOCKED\|blocked\|suppress" /opt/polymarket-bot/polymarket_notifier.log | tail -50

# 2. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø–æ –ø—Ä–∏—á–∏–Ω–∞–º
grep -i "BLOCKED" /opt/polymarket-bot/polymarket_notifier.log | \
  grep -oE "(below_threshold|market_inactive|price|cooldown|insufficient_position|no_trigger|resolved)" | \
  sort | uniq -c | sort -rn

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
grep -E "MIN_CONSENSUS|ALERT_WINDOW_MIN|MIN_TOTAL_POSITION_USD|ALERT_COOLDOWN_MIN" /opt/polymarket-bot/.env

# 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
cd /opt/polymarket-bot
./check_server_blocks.sh

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–æ–Ω—Å–µ–Ω—Å—É—Å–æ–≤
python3 check_signal_blocks.py
```

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ–¥–µ

1. **–î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ condition_id –≤ —Å–æ–±—ã—Ç–∏—è**
   - –§–∞–π–ª: `db.py:443-445`
   - –¢–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è: `conditionId`, `outcomeIndex`, `side`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç `conditionId`

## üìù –ß–µ–∫–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `MIN_TOTAL_POSITION_USD` –≤ `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `MIN_TOTAL_POSITION_USD=0` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç: `sudo systemctl restart polymarket-notifier`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç `conditionId`
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –Ω–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã

